<div class="image-container">
  <div class="slogan-container">
    <span class="slogan-1">Révélez votre</span>
    <span class="slogan-2">éclat</span>
    <span class="slogan-3">intérieur</span>
  </div>
</div>
<div class="container">
  <div class="login-container">
    <div class="title">
      <span class="logo">
        <img
          ngSrc="/assets/images/glamify-logo.png"
          alt="Glamify Logo"
          width="128"
          height="128"
          priority
        />
      </span>
      <span class="name">Glamify</span>
      <span class="description">Salon de beauté</span>
    </div>
    <form [formGroup]="registerForm" (ngSubmit)="onSubmit()" class="login-form">
      <div class="form-label">
        <span class="label">Inscrivez-vous pour profiter de nos services</span>
      </div>
      <div class="form-label" *ngIf="alreadyExists">
        <span class="register-error"
          >L'adresse email est déja liée à un compte!</span
        >
      </div>
      <div class="form-label" *ngIf="registerError">
        <span class="register-error"
          >Erreur lors de la création du compte!</span
        >
      </div>
      <div class="form-group">
        <div class="form-inputs">
          <mat-form-field class="form-field" [floatLabel]="'auto'">
            <mat-label>Nom</mat-label>
            <input matInput type="text" formControlName="lastname" />
            @if(registerForm.get('lastname')?.invalid &&
            registerForm.get('lastname')?.touched) {
            <mat-error>
              <span *ngIf="registerForm.get('lastname')?.errors?.['required']"
                >Veuillez saisir votre nom!</span
              >
            </mat-error>
            }
          </mat-form-field>

          <mat-form-field class="form-field" [floatLabel]="'auto'">
            <mat-label>Prénom</mat-label>
            <input matInput type="text" formControlName="firstname" />
            @if(registerForm.get('firstname')?.invalid &&
            registerForm.get('firstname')?.touched) {
            <mat-error>Veuillez votre prénom! </mat-error>
            }
          </mat-form-field>
        </div>
        <div class="form-inputs">
          <mat-form-field class="form-field" [floatLabel]="'auto'">
            <mat-label>Adresse email</mat-label>
            <input
              matInput
              type="email"
              formControlName="email"
              placeholder="Email"
            />
            @if(registerForm.get('email')?.invalid &&
            registerForm.get('email')?.touched) {
            <mat-error>
              <span *ngIf="registerForm.get('email')?.errors?.['required']"
                >Veuillez saisir une adresse email!</span
              >
              <span *ngIf="registerForm.get('email')?.errors?.['email']"
                >L'adresse email n'est pas valide!</span
              >
            </mat-error>
            }
          </mat-form-field>
        </div>
        <div class="form-inputs">
          <mat-form-field class="form-field" [floatLabel]="'auto'">
            <mat-label>Mot de passe</mat-label>
            <input matInput type="password" formControlName="password" />
            @if(registerForm.get('password')?.invalid &&
            registerForm.get('password')?.touched) {
            <mat-error>Veuillez saisir un mot de passe! </mat-error>
            }
          </mat-form-field>

          <mat-form-field class="form-field" [floatLabel]="'auto'">
            <mat-label>Confirmer le mot de passe</mat-label>
            <input matInput type="password" formControlName="confirmPassword" />
            @if(registerForm.get('confirmPassword')?.invalid &&
            registerForm.get('confirmPassword')?.touched) {
            <mat-error
              *ngIf="
                registerForm.get('confirmPassword')?.invalid &&
                registerForm.get('confirmPassword')?.touched
              "
            >
              <span
                *ngIf="
                  registerForm.get('confirmPassword')?.hasError('required')
                "
                >Veuillez saisir un mot de passe!</span
              >
              <span
                *ngIf="
                  registerForm
                    .get('confirmPassword')
                    ?.hasError('passwordMismatch')
                "
                >Ne correspond pas au mot de passe</span
              >
            </mat-error>
            }
          </mat-form-field>
        </div>
      </div>
      <div class="action">
        <div class="submit-btn">
          <ctz-button type="submit" variant="primary" text="S'inscrire" />
        </div>
      </div>
    </form>
    <div class="register-field">
      <span class="register-label">Vous avez déja un compte?</span>
      <a class="register-link" [routerLink]="['/login']"
        >Connectez-vous ici...</a
      >
    </div>
  </div>
</div>
