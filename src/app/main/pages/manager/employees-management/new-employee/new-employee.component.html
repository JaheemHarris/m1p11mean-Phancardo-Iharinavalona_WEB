<app-container title="Nouvel employé">
  <div class="content">
    <h3 class="title">Ajouter un nouvel employé</h3>
    <div class="container">
      <p>Veuillez renseigner les informations du nouvel employé</p>
      <p>
        *Le mot de passe du nouvel employé lui sera généré automatiquement par
        l'application et lui sera envoyé par mail.
      </p>
      <p>(*) Champ Obligatoire</p>
      <form
        class="form-container"
        [formGroup]="registerForm"
        (ngSubmit)="onSubmit()"
      >
        <div class="form-inputs">
          <mat-form-field class="form-field" [floatLabel]="'auto'">
            <mat-label>Nom</mat-label>
            <input matInput type="text" formControlName="lastname" />
            @if(registerForm.get('lastname')?.invalid &&
            registerForm.get('lastname')?.touched) {
            <mat-error>
              <span *ngIf="registerForm.get('lastname')?.errors?.['required']"
                >Veuillez saisir votre nom!</span
              >
            </mat-error>
            }
          </mat-form-field>

          <mat-form-field class="form-field" [floatLabel]="'auto'">
            <mat-label>Prénom</mat-label>
            <input matInput type="text" formControlName="firstname" />
            @if(registerForm.get('firstname')?.invalid &&
            registerForm.get('firstname')?.touched) {
            <mat-error>Veuillez votre prénom! </mat-error>
            }
          </mat-form-field>
          <mat-form-field class="form-field" [floatLabel]="'auto'">
            <mat-label>Adresse email</mat-label>
            <input
              matInput
              type="email"
              formControlName="email"
              placeholder="Email"
            />
            @if(registerForm.get('email')?.invalid &&
            registerForm.get('email')?.touched) {
            <mat-error>
              <span *ngIf="registerForm.get('email')?.errors?.['required']"
                >Veuillez saisir une adresse email!</span
              >
              <span *ngIf="registerForm.get('email')?.errors?.['email']"
                >L'adresse email n'est pas valide!</span
              >
            </mat-error>
            }
          </mat-form-field>
        </div>
        <div class="action">
          <div class="action-btn">
            <ctz-button type="reset" variant="neutral" text="Annuler" />
          </div>
          <div class="action-btn">
            <ctz-button type="submit" variant="primary" text="Enregistrer" />
          </div>
        </div>
      </form>
    </div>
  </div>
</app-container>
<ngx-spinner type="ball-scale-multiple"></ngx-spinner>
